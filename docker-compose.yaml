services: 
  cloud: 
    build:
      context: .
      dockerfile: docker/Dockerfile.cloud
    image: cloud
  iot: 
    build:
      context: .
      dockerfile: docker/Dockerfile.iot
    depends_on:
      - edge
    image: iot
    networks:
      - simulation_network
  edge: 
    build:
      context: .
      dockerfile: docker/Dockerfile.edge
    image: edge
    networks:
      - simulation_network
  alarm:
    build:
      context: .
      dockerfile: docker/Dockerfile.alarm
    depends_on:
      - edge
    image: alarm
    networks:
      - simulation_network

networks:
  simulation_network:
    driver: bridge